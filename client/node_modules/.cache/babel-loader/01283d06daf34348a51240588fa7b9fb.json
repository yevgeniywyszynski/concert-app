{"ast":null,"code":"import _toConsumableArray from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Button,Progress,Alert}from'reactstrap';import'./SeatChooser.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SeatChooser=/*#__PURE__*/function(_React$Component){_inherits(SeatChooser,_React$Component);var _super=_createSuper(SeatChooser);function SeatChooser(){var _this;_classCallCheck(this,SeatChooser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.isTaken=function(seatId){var _this$props=_this.props,seats=_this$props.seats,chosenDay=_this$props.chosenDay;return seats.some(function(item){return item.seat===seatId&&item.day===chosenDay;});};_this.prepareSeat=function(seatId){var _this$props2=_this.props,chosenSeat=_this$props2.chosenSeat,updateSeat=_this$props2.updateSeat;var _assertThisInitialize=_assertThisInitialized(_this),isTaken=_assertThisInitialize.isTaken;if(seatId===chosenSeat)return/*#__PURE__*/_jsx(Button,{className:\"seats__seat\",color:\"primary\",children:seatId},seatId);else if(isTaken(seatId))return/*#__PURE__*/_jsx(Button,{className:\"seats__seat\",disabled:true,color:\"secondary\",children:seatId},seatId);else return/*#__PURE__*/_jsx(Button,{color:\"primary\",className:\"seats__seat\",outline:true,onClick:function onClick(e){return updateSeat(e,seatId);},children:seatId},seatId);};return _this;}_createClass(SeatChooser,[{key:\"componentDidMount\",value:function componentDidMount(){var loadSeats=this.props.loadSeats;loadSeats();}},{key:\"render\",value:function render(){var prepareSeat=this.prepareSeat;var requests=this.props.requests;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pick a seat\"}),/*#__PURE__*/_jsxs(\"small\",{id:\"pickHelp\",className:\"form-text text-muted ml-2\",children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\"}),\" \\u2013 seat is already taken\"]}),/*#__PURE__*/_jsxs(\"small\",{id:\"pickHelpTwo\",className:\"form-text text-muted ml-2 mb-4\",children:[/*#__PURE__*/_jsx(Button,{outline:true,color:\"primary\"}),\" \\u2013 it's empty\"]}),requests['LOAD_SEATS']&&requests['LOAD_SEATS'].success&&/*#__PURE__*/_jsx(\"div\",{className:\"seats\",children:_toConsumableArray(Array(50)).map(function(x,i){return prepareSeat(i+1);})}),requests['LOAD_SEATS']&&requests['LOAD_SEATS'].pending&&/*#__PURE__*/_jsx(Progress,{animated:true,color:\"primary\",value:50}),requests['LOAD_SEATS']&&requests['LOAD_SEATS'].error&&/*#__PURE__*/_jsx(Alert,{color:\"warning\",children:\"Couldn't load seats...\"})]});}}]);return SeatChooser;}(React.Component);export default SeatChooser;","map":{"version":3,"sources":["/Users/yevgeniywyszynski/wlasnyserver/client/src/components/features/SeatChooser/SeatChooser.js"],"names":["React","Button","Progress","Alert","SeatChooser","isTaken","seatId","props","seats","chosenDay","some","item","seat","day","prepareSeat","chosenSeat","updateSeat","e","loadSeats","requests","success","Array","map","x","i","pending","error","Component"],"mappings":"oxBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,CAAiBC,QAAjB,CAA2BC,KAA3B,KAAwC,YAAxC,CAEA,MAAO,oBAAP,C,2FAEMC,CAAAA,W,2VAOJC,O,CAAU,SAACC,MAAD,CAAY,CACpB,gBAA6B,MAAKC,KAAlC,CAAQC,KAAR,aAAQA,KAAR,CAAeC,SAAf,aAAeA,SAAf,CAEA,MAAQD,CAAAA,KAAK,CAACE,IAAN,CAAW,SAAAC,IAAI,QAAKA,CAAAA,IAAI,CAACC,IAAL,GAAcN,MAAd,EAAwBK,IAAI,CAACE,GAAL,GAAaJ,SAA1C,EAAf,CAAR,CACD,C,OAEDK,W,CAAc,SAACR,MAAD,CAAY,CACxB,iBAAmC,MAAKC,KAAxC,CAAQQ,UAAR,cAAQA,UAAR,CAAoBC,UAApB,cAAoBA,UAApB,CACA,wDAAQX,OAAR,uBAAQA,OAAR,CAEA,GAAGC,MAAM,GAAKS,UAAd,CAA0B,mBAAO,KAAC,MAAD,EAAqB,SAAS,CAAC,aAA/B,CAA6C,KAAK,CAAC,SAAnD,UAA8DT,MAA9D,EAAaA,MAAb,CAAP,CAA1B,IACK,IAAGD,OAAO,CAACC,MAAD,CAAV,CAAoB,mBAAO,KAAC,MAAD,EAAqB,SAAS,CAAC,aAA/B,CAA6C,QAAQ,KAArD,CAAsD,KAAK,CAAC,WAA5D,UAAyEA,MAAzE,EAAaA,MAAb,CAAP,CAApB,IACA,oBAAO,KAAC,MAAD,EAAqB,KAAK,CAAC,SAA3B,CAAqC,SAAS,CAAC,aAA/C,CAA6D,OAAO,KAApE,CAAqE,OAAO,CAAE,iBAACW,CAAD,QAAOD,CAAAA,UAAU,CAACC,CAAD,CAAIX,MAAJ,CAAjB,EAA9E,UAA6GA,MAA7G,EAAaA,MAAb,CAAP,CACN,C,wEAlBD,4BAAoB,CAClB,GAAQY,CAAAA,SAAR,CAAsB,KAAKX,KAA3B,CAAQW,SAAR,CACAA,SAAS,GACV,C,sBAiBD,iBAAS,CAEP,GAAQJ,CAAAA,WAAR,CAAwB,IAAxB,CAAQA,WAAR,CACA,GAAQK,CAAAA,QAAR,CAAqB,KAAKZ,KAA1B,CAAQY,QAAR,CAEA,mBACE,oCACE,mCADF,cAEE,eAAO,EAAE,CAAC,UAAV,CAAqB,SAAS,CAAC,2BAA/B,wBAA2D,KAAC,MAAD,EAAQ,KAAK,CAAC,WAAd,EAA3D,mCAFF,cAGE,eAAO,EAAE,CAAC,aAAV,CAAwB,SAAS,CAAC,gCAAlC,wBAAmE,KAAC,MAAD,EAAQ,OAAO,KAAf,CAAgB,KAAK,CAAC,SAAtB,EAAnE,wBAHF,CAIKA,QAAQ,CAAC,YAAD,CAAR,EAA0BA,QAAQ,CAAC,YAAD,CAAR,CAAuBC,OAAlD,eAA8D,YAAK,SAAS,CAAC,OAAf,UAAwB,mBAAIC,KAAK,CAAC,EAAD,CAAT,EAAeC,GAAf,CAAmB,SAACC,CAAD,CAAIC,CAAJ,QAAUV,CAAAA,WAAW,CAACU,CAAC,CAAC,CAAH,CAArB,EAAnB,CAAxB,EAJlE,CAKKL,QAAQ,CAAC,YAAD,CAAR,EAA0BA,QAAQ,CAAC,YAAD,CAAR,CAAuBM,OAAlD,eAA8D,KAAC,QAAD,EAAU,QAAQ,KAAlB,CAAmB,KAAK,CAAC,SAAzB,CAAmC,KAAK,CAAE,EAA1C,EALlE,CAMKN,QAAQ,CAAC,YAAD,CAAR,EAA0BA,QAAQ,CAAC,YAAD,CAAR,CAAuBO,KAAlD,eAA4D,KAAC,KAAD,EAAO,KAAK,CAAC,SAAb,oCANhE,GADF,CAUD,C,yBArCuB1B,KAAK,CAAC2B,S,EAwChC,cAAevB,CAAAA,WAAf","sourcesContent":["import React from 'react';\r\nimport { Button, Progress, Alert } from 'reactstrap';\r\n\r\nimport './SeatChooser.scss';\r\n\r\nclass SeatChooser extends React.Component {\r\n  \r\n  componentDidMount() {\r\n    const { loadSeats } = this.props;\r\n    loadSeats();\r\n  }\r\n\r\n  isTaken = (seatId) => {\r\n    const { seats, chosenDay } = this.props;\r\n\r\n    return (seats.some(item => (item.seat === seatId && item.day === chosenDay)));\r\n  }\r\n\r\n  prepareSeat = (seatId) => {\r\n    const { chosenSeat, updateSeat } = this.props;\r\n    const { isTaken } = this;\r\n\r\n    if(seatId === chosenSeat) return <Button key={seatId} className=\"seats__seat\" color=\"primary\">{seatId}</Button>;\r\n    else if(isTaken(seatId)) return <Button key={seatId} className=\"seats__seat\" disabled color=\"secondary\">{seatId}</Button>;\r\n    else return <Button key={seatId} color=\"primary\" className=\"seats__seat\" outline onClick={(e) => updateSeat(e, seatId)}>{seatId}</Button>;\r\n  }\r\n\r\n  render() {\r\n\r\n    const { prepareSeat } = this;\r\n    const { requests } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <h3>Pick a seat</h3>\r\n        <small id=\"pickHelp\" className=\"form-text text-muted ml-2\"><Button color=\"secondary\" /> – seat is already taken</small>\r\n        <small id=\"pickHelpTwo\" className=\"form-text text-muted ml-2 mb-4\"><Button outline color=\"primary\" /> – it's empty</small>\r\n        { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].success) && <div className=\"seats\">{[...Array(50)].map((x, i) => prepareSeat(i+1) )}</div>}\r\n        { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].pending) && <Progress animated color=\"primary\" value={50} /> }\r\n        { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].error) && <Alert color=\"warning\">Couldn't load seats...</Alert> }\r\n      </div>\r\n    )\r\n  };\r\n}\r\n\r\nexport default SeatChooser;"]},"metadata":{},"sourceType":"module"}