{"ast":null,"code":"var _jsxFileName = \"/Users/yevgeniywyszynski/wlasnyserver/client/src/components/features/SeatChooser/SeatChooser.js\";\nimport React from 'react';\nimport { Button, Progress, Alert } from 'reactstrap';\nimport './SeatChooser.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SeatChooser extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.isTaken = seatId => {\n      const {\n        seats,\n        chosenDay\n      } = this.props;\n      return seats.some(item => item.seat === seatId && item.day === chosenDay);\n    };\n\n    this.prepareSeat = seatId => {\n      const {\n        chosenSeat,\n        updateSeat\n      } = this.props;\n      const {\n        isTaken\n      } = this;\n      if (seatId === chosenSeat) return /*#__PURE__*/_jsxDEV(Button, {\n        className: \"seats__seat\",\n        color: \"primary\",\n        children: seatId\n      }, seatId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 38\n      }, this);else if (isTaken(seatId)) return /*#__PURE__*/_jsxDEV(Button, {\n        className: \"seats__seat\",\n        disabled: true,\n        color: \"secondary\",\n        children: seatId\n      }, seatId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 37\n      }, this);else return /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        className: \"seats__seat\",\n        outline: true,\n        onClick: e => updateSeat(e, seatId),\n        children: seatId\n      }, seatId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this);\n    };\n  }\n\n  componentDidMount() {\n    const {\n      loadSeats\n    } = this.props;\n    loadSeats();\n  }\n\n  render() {\n    const {\n      prepareSeat\n    } = this;\n    const {\n      requests\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Pick a seat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        id: \"pickHelp\",\n        className: \"form-text text-muted ml-2\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 68\n        }, this), \" \\u2013 seat is already taken\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        id: \"pickHelpTwo\",\n        className: \"form-text text-muted ml-2 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          outline: true,\n          color: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 76\n        }, this), \" \\u2013 it's empty\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), requests['LOAD_SEATS'] && requests['LOAD_SEATS'].success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"seats\",\n        children: [...Array(50)].map((x, i) => prepareSeat(i + 1))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 73\n      }, this), requests['LOAD_SEATS'] && requests['LOAD_SEATS'].pending && /*#__PURE__*/_jsxDEV(Progress, {\n        animated: true,\n        color: \"primary\",\n        value: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 73\n      }, this), requests['LOAD_SEATS'] && requests['LOAD_SEATS'].error && /*#__PURE__*/_jsxDEV(Alert, {\n        color: \"warning\",\n        children: \"Couldn't load seats...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 71\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SeatChooser;","map":{"version":3,"sources":["/Users/yevgeniywyszynski/wlasnyserver/client/src/components/features/SeatChooser/SeatChooser.js"],"names":["React","Button","Progress","Alert","SeatChooser","Component","isTaken","seatId","seats","chosenDay","props","some","item","seat","day","prepareSeat","chosenSeat","updateSeat","e","componentDidMount","loadSeats","render","requests","success","Array","map","x","i","pending","error"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Progress, Alert } from 'reactstrap';\r\n\r\nimport './SeatChooser.scss';\r\n\r\nclass SeatChooser extends React.Component {\r\n  \r\n  componentDidMount() {\r\n    const { loadSeats } = this.props;\r\n    loadSeats();\r\n  }\r\n\r\n  isTaken = (seatId) => {\r\n    const { seats, chosenDay } = this.props;\r\n\r\n    return (seats.some(item => (item.seat === seatId && item.day === chosenDay)));\r\n  }\r\n\r\n  prepareSeat = (seatId) => {\r\n    const { chosenSeat, updateSeat } = this.props;\r\n    const { isTaken } = this;\r\n\r\n    if(seatId === chosenSeat) return <Button key={seatId} className=\"seats__seat\" color=\"primary\">{seatId}</Button>;\r\n    else if(isTaken(seatId)) return <Button key={seatId} className=\"seats__seat\" disabled color=\"secondary\">{seatId}</Button>;\r\n    else return <Button key={seatId} color=\"primary\" className=\"seats__seat\" outline onClick={(e) => updateSeat(e, seatId)}>{seatId}</Button>;\r\n  }\r\n\r\n  render() {\r\n\r\n    const { prepareSeat } = this;\r\n    const { requests } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <h3>Pick a seat</h3>\r\n        <small id=\"pickHelp\" className=\"form-text text-muted ml-2\"><Button color=\"secondary\" /> – seat is already taken</small>\r\n        <small id=\"pickHelpTwo\" className=\"form-text text-muted ml-2 mb-4\"><Button outline color=\"primary\" /> – it's empty</small>\r\n        { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].success) && <div className=\"seats\">{[...Array(50)].map((x, i) => prepareSeat(i+1) )}</div>}\r\n        { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].pending) && <Progress animated color=\"primary\" value={50} /> }\r\n        { (requests['LOAD_SEATS'] && requests['LOAD_SEATS'].error) && <Alert color=\"warning\">Couldn't load seats...</Alert> }\r\n      </div>\r\n    )\r\n  };\r\n}\r\n\r\nexport default SeatChooser;"]},"metadata":{},"sourceType":"module"}