{"ast":null,"code":"import _toConsumableArray from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/yevgeniywyszynski/wlasnyserver/client/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import{API_URL}from'../config';/* SELECTORS */export var getConcerts=function getConcerts(_ref){var concerts=_ref.concerts;return concerts.data;};export var getRequest=function getRequest(_ref2){var concerts=_ref2.concerts;return concerts.request;};/* ACTIONS */ // action name creator\nvar reducerName='concerts';var createActionName=function createActionName(name){return\"app/\".concat(reducerName,\"/\").concat(name);};var START_REQUEST=createActionName('START_REQUEST');var END_REQUEST=createActionName('END_REQUEST');var ERROR_REQUEST=createActionName('ERROR_REQUEST');var LOAD_CONCERTS=createActionName('LOAD_CONCERTS');export var startRequest=function startRequest(){return{type:START_REQUEST};};export var endRequest=function endRequest(){return{type:END_REQUEST};};export var errorRequest=function errorRequest(error){return{error:error,type:ERROR_REQUEST};};export var loadConcerts=function loadConcerts(payload){return{payload:payload,type:LOAD_CONCERTS};};/* THUNKS */export var loadConcertsRequest=function loadConcertsRequest(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(startRequest());_context.prev=1;_context.next=4;return axios.get(\"\".concat(API_URL,\"/concerts\"));case 4:res=_context.sent;_context.next=7;return new Promise(function(resolve,reject){return setTimeout(resolve,2000);});case 7:dispatch(loadConcerts(res.data));dispatch(endRequest());_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch(errorRequest(_context.t0.message));case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x){return _ref3.apply(this,arguments);};}();};/* INITIAL STATE */var initialState={data:[],request:{pending:false,error:null,success:null}};/* REDUCER */export default function reducer(){var statePart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};switch(action.type){case LOAD_CONCERTS:return _objectSpread(_objectSpread({},statePart),{},{data:_toConsumableArray(action.payload)});case START_REQUEST:return _objectSpread(_objectSpread({},statePart),{},{request:{pending:true,error:null,success:false}});case END_REQUEST:return _objectSpread(_objectSpread({},statePart),{},{request:{pending:false,error:null,success:true}});case ERROR_REQUEST:return _objectSpread(_objectSpread({},statePart),{},{request:{pending:false,error:action.error,success:false}});default:return statePart;}}","map":{"version":3,"sources":["/Users/yevgeniywyszynski/wlasnyserver/client/src/redux/concertsRedux.js"],"names":["axios","API_URL","getConcerts","concerts","data","getRequest","request","reducerName","createActionName","name","START_REQUEST","END_REQUEST","ERROR_REQUEST","LOAD_CONCERTS","startRequest","type","endRequest","errorRequest","error","loadConcerts","payload","loadConcertsRequest","dispatch","get","res","Promise","resolve","reject","setTimeout","message","initialState","pending","success","reducer","statePart","action"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { API_URL } from '../config';\r\n\r\n/* SELECTORS */\r\nexport const getConcerts = ({ concerts }) => concerts.data;\r\nexport const getRequest = ({ concerts }) => concerts.request;\r\n\r\n/* ACTIONS */\r\n\r\n// action name creator\r\nconst reducerName = 'concerts';\r\nconst createActionName = name => `app/${reducerName}/${name}`;\r\n\r\nconst START_REQUEST = createActionName('START_REQUEST');\r\nconst END_REQUEST = createActionName('END_REQUEST');\r\nconst ERROR_REQUEST = createActionName('ERROR_REQUEST');\r\n\r\nconst LOAD_CONCERTS = createActionName('LOAD_CONCERTS');\r\n\r\nexport const startRequest = () => ({ type: START_REQUEST });\r\nexport const endRequest = () => ({ type: END_REQUEST });\r\nexport const errorRequest = error => ({ error, type: ERROR_REQUEST });\r\n\r\nexport const loadConcerts = payload => ({ payload, type: LOAD_CONCERTS });\r\n\r\n/* THUNKS */\r\n\r\nexport const loadConcertsRequest = () => {\r\n  return async dispatch => {\r\n\r\n    dispatch(startRequest());\r\n    try {\r\n\r\n      let res = await axios.get(`${API_URL}/concerts`);\r\n      await new Promise((resolve, reject) => setTimeout(resolve, 2000));\r\n      dispatch(loadConcerts(res.data));\r\n      dispatch(endRequest());\r\n\r\n    } catch(e) {\r\n      dispatch(errorRequest(e.message));\r\n    }\r\n\r\n  };\r\n};\r\n\r\n/* INITIAL STATE */\r\n\r\nconst initialState = {\r\n  data: [],\r\n  request: {\r\n    pending: false,\r\n    error: null,\r\n    success: null,\r\n  },\r\n};\r\n\r\n/* REDUCER */\r\n\r\nexport default function reducer(statePart = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case LOAD_CONCERTS: \r\n      return { ...statePart, data: [...action.payload] };\r\n    case START_REQUEST:\r\n      return { ...statePart, request: { pending: true, error: null, success: false } };\r\n    case END_REQUEST:\r\n      return { ...statePart, request: { pending: false, error: null, success: true } };\r\n    case ERROR_REQUEST:\r\n      return { ...statePart, request: { pending: false, error: action.error, success: false } };\r\n    default:\r\n      return statePart;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}