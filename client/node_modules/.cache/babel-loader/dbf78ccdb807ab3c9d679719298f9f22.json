{"ast":null,"code":"import axios from 'axios';\nimport { API_URL } from '../config';\n/* SELECTORS */\n\nexport const getConcerts = _ref => {\n  let {\n    concerts\n  } = _ref;\n  return concerts.data;\n};\nexport const getRequest = _ref2 => {\n  let {\n    concerts\n  } = _ref2;\n  return concerts.request;\n};\n/* ACTIONS */\n// action name creator\n\nconst reducerName = 'concerts';\n\nconst createActionName = name => `app/${reducerName}/${name}`;\n\nconst START_REQUEST = createActionName('START_REQUEST');\nconst END_REQUEST = createActionName('END_REQUEST');\nconst ERROR_REQUEST = createActionName('ERROR_REQUEST');\nconst LOAD_CONCERTS = createActionName('LOAD_CONCERTS');\nexport const startRequest = () => ({\n  type: START_REQUEST\n});\nexport const endRequest = () => ({\n  type: END_REQUEST\n});\nexport const errorRequest = error => ({\n  error,\n  type: ERROR_REQUEST\n});\nexport const loadConcerts = payload => ({\n  payload,\n  type: LOAD_CONCERTS\n});\n/* THUNKS */\n\nexport const loadConcertsRequest = () => {\n  return async dispatch => {\n    dispatch(startRequest());\n\n    try {\n      let res = await axios.get(`${API_URL}/concerts`);\n      await new Promise((resolve, reject) => setTimeout(resolve, 2000));\n      dispatch(loadConcerts(res.data));\n      dispatch(endRequest());\n    } catch (e) {\n      dispatch(errorRequest(e.message));\n    }\n  };\n};\n/* INITIAL STATE */\n\nconst initialState = {\n  data: [],\n  request: {\n    pending: false,\n    error: null,\n    success: null\n  }\n};\n/* REDUCER */\n\nexport default function reducer() {\n  let statePart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  switch (action.type) {\n    case LOAD_CONCERTS:\n      return { ...statePart,\n        data: [...action.payload]\n      };\n\n    case START_REQUEST:\n      return { ...statePart,\n        request: {\n          pending: true,\n          error: null,\n          success: false\n        }\n      };\n\n    case END_REQUEST:\n      return { ...statePart,\n        request: {\n          pending: false,\n          error: null,\n          success: true\n        }\n      };\n\n    case ERROR_REQUEST:\n      return { ...statePart,\n        request: {\n          pending: false,\n          error: action.error,\n          success: false\n        }\n      };\n\n    default:\n      return statePart;\n  }\n}","map":{"version":3,"sources":["/Users/yevgeniywyszynski/wlasnyserver/client/src/redux/concertsRedux.js"],"names":["axios","API_URL","getConcerts","concerts","data","getRequest","request","reducerName","createActionName","name","START_REQUEST","END_REQUEST","ERROR_REQUEST","LOAD_CONCERTS","startRequest","type","endRequest","errorRequest","error","loadConcerts","payload","loadConcertsRequest","dispatch","res","get","Promise","resolve","reject","setTimeout","e","message","initialState","pending","success","reducer","statePart","action"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { API_URL } from '../config';\r\n\r\n/* SELECTORS */\r\nexport const getConcerts = ({ concerts }) => concerts.data;\r\nexport const getRequest = ({ concerts }) => concerts.request;\r\n\r\n/* ACTIONS */\r\n\r\n// action name creator\r\nconst reducerName = 'concerts';\r\nconst createActionName = name => `app/${reducerName}/${name}`;\r\n\r\nconst START_REQUEST = createActionName('START_REQUEST');\r\nconst END_REQUEST = createActionName('END_REQUEST');\r\nconst ERROR_REQUEST = createActionName('ERROR_REQUEST');\r\n\r\nconst LOAD_CONCERTS = createActionName('LOAD_CONCERTS');\r\n\r\nexport const startRequest = () => ({ type: START_REQUEST });\r\nexport const endRequest = () => ({ type: END_REQUEST });\r\nexport const errorRequest = error => ({ error, type: ERROR_REQUEST });\r\n\r\nexport const loadConcerts = payload => ({ payload, type: LOAD_CONCERTS });\r\n\r\n/* THUNKS */\r\n\r\nexport const loadConcertsRequest = () => {\r\n  return async dispatch => {\r\n\r\n    dispatch(startRequest());\r\n    try {\r\n\r\n      let res = await axios.get(`${API_URL}/concerts`);\r\n      await new Promise((resolve, reject) => setTimeout(resolve, 2000));\r\n      dispatch(loadConcerts(res.data));\r\n      dispatch(endRequest());\r\n\r\n    } catch(e) {\r\n      dispatch(errorRequest(e.message));\r\n    }\r\n\r\n  };\r\n};\r\n\r\n/* INITIAL STATE */\r\n\r\nconst initialState = {\r\n  data: [],\r\n  request: {\r\n    pending: false,\r\n    error: null,\r\n    success: null,\r\n  },\r\n};\r\n\r\n/* REDUCER */\r\n\r\nexport default function reducer(statePart = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case LOAD_CONCERTS: \r\n      return { ...statePart, data: [...action.payload] };\r\n    case START_REQUEST:\r\n      return { ...statePart, request: { pending: true, error: null, success: false } };\r\n    case END_REQUEST:\r\n      return { ...statePart, request: { pending: false, error: null, success: true } };\r\n    case ERROR_REQUEST:\r\n      return { ...statePart, request: { pending: false, error: action.error, success: false } };\r\n    default:\r\n      return statePart;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}